"use strict";document.addEventListener("DOMContentLoaded",function(){getSum(),showImgModal()});let calcForm=document.querySelector("#calcform form"),activeImg=calcForm.querySelector("img.active"),kapitalLong=calcForm.querySelector("#kapital-long"),kapitalWidh=calcForm.querySelector("#kapital-width"),fronton=calcForm.querySelector("#fronton"),checkboxes=calcForm.querySelectorAll(".checkbox"),frontonHeight=calcForm.querySelector("#fronton-height");function getSum(){let e=+calcForm.querySelector("#srub-long").value,c=+calcForm.querySelector("#srub-width").value,t=+calcForm.querySelector("#srub-height").value,o=+calcForm.querySelector("#fronton-height").value,a=+calcForm.querySelector("#diametr").value,n=+document.querySelector("#calcform").dataset.percent,r=2*(e+c)*t*a;kapitalLong.checked&&(r+=e*t*a),kapitalWidh.checked&&(r+=c*t*a),fronton.checked&&(r+=c*o*a),calcForm.querySelector("#total-price").innerText=r+" руб.",calcForm.querySelector("#total-install").innerText=r*n/100+" руб."}function getImg(){let e=calcForm.querySelectorAll("img");activeImg.className="no-img",kapitalLong.checked||kapitalWidh.checked||fronton.checked||(activeImg=e[0]),kapitalLong.checked||kapitalWidh.checked||!fronton.checked||(activeImg=e[1]),kapitalLong.checked||!kapitalWidh.checked||fronton.checked||(activeImg=e[2]),!kapitalLong.checked&&kapitalWidh.checked&&fronton.checked&&(activeImg=e[3]),!kapitalLong.checked||kapitalWidh.checked||fronton.checked||(activeImg=e[4]),kapitalLong.checked&&!kapitalWidh.checked&&fronton.checked&&(activeImg=e[5]),kapitalLong.checked&&kapitalWidh.checked&&!fronton.checked&&(activeImg=e[6]),kapitalLong.checked&&kapitalWidh.checked&&fronton.checked&&(activeImg=e[7]),activeImg.className="active"}function showImgModal(){let e=document.querySelectorAll("img.modal"),c=document.querySelector(".img-modal");e.forEach(function(e){e.addEventListener("click",function(){let t=e.getAttribute("src");c.querySelector("img").setAttribute("src",t),c.style.display="block"})}),c.addEventListener("click",function(){c.style.display="none"})}fronton.addEventListener("click",function(){this.checked?(frontonHeight.removeAttribute("disabled"),frontonHeight.parentNode.classList.add("active")):(frontonHeight.setAttribute("disabled","disabled"),frontonHeight.parentNode.classList.remove("active"))}),calcForm.querySelector("#srub-long").addEventListener("change",function(){getSum()}),calcForm.querySelector("#srub-width").addEventListener("change",function(){getSum()}),calcForm.querySelector("#srub-height").addEventListener("change",function(){getSum()}),calcForm.querySelector("#fronton-height").addEventListener("change",function(){getSum()}),calcForm.querySelector("#diametr").addEventListener("change",function(){getSum()}),checkboxes.forEach(function(e){e.addEventListener("click",function(){getImg(),getSum()})});